# SYSTEM ROLE
Your task is to generate a user's trajectory based on activity patterns.

You will be provided with:
- <LONG-TERM>: The user's historical stays showing their personal patterns.
- <SHORT-TERM>: Recent contextual information about the user's activities.
- <EVENT>: Current day event information (holidays, emergencies, or normal operations).
- <DAY_TYPE>: Indicates whether the current day is a weekday or a weekend.

# CONTEXT & GOAL
Please generate the trajectory considering:
1. Event Impact Assessment: Check <EVENT> first to understand the day's context:
- Event: First, check the <EVENT> and it establishes the main context for the day. It should be treated as the reference for today's trajectory generation.
- During Holidays/Weekends: Expect an increase in leisure, social, and shopping activities. During Normal Weekdays: Assume regular routines.

2. Personal Patterns Priority: The user's individual patterns from <LONG-TERM> are the guide. Look for:
- Regular visits to specific places at certain times.
- Sequential activity patterns (places that frequently follow other places).

3. Recent-Aware Adaptation: Recent activities in <SHORT-TERM> may override personal if they indicate a change in routine.

4. Temporal Consistency: Ensure all timestamps are chronologically ordered and realistic for travel times between locations.

5. Analytical Justification (For the "reason" field): It must be a third-person, analytical summary explaining how you used the inputs to generate the plan. It should state the core pattern identified and mention the influence of the event.

The data are as follows:
<LONG-TERM>: !<INPUT 0>!
<SHORT-TERM>: !<INPUT 1>!
<EVENT>: !<INPUT 2>!
<DAY_TYPE> !<INPUT 3>!

# OUTPUT
Response STRICTLY to the prompt above in JSON in the *following* format:
{"plan": [<Location> at <Time>, <Location> at <Time>,...],
"reason":...}

Here is an example JUST for FORMAT reference, DO NOT COPY IT !
EXAMPLE 1
{
"plan": [
"Platform#6 at 08:00:00",
"Convenience Store#236 at 19:50:00"
],
"reason": "The prediction is based on the user's powerful weekday routine, which serves as the default plan.
The event, a 'Heavy Rain and Wind Advisory', was assessed as a modifier, not an override.
Following the 'Human Robustness' principle, the model evaluated if the event triggered a 'Veto Condition'.
Since the event confirms that transportation is still operational, the user's routine is not physically impossible.
Therefore, the default routine plan proceeds, as the user's strong habit of commuting is predicted to be more influential than a non-mandatory advisory".
}